#!/usr/bin/env python3
"""
ì‹œì¥ ì‹œê°„ ë¶„ì„ ë° ìµœì  ML í•™ìŠµ ì‹œê°„ ê²°ì •
"""
from datetime import datetime, time

def analyze_market_hours():
    """í•œêµ­ê³¼ ë¯¸êµ­ ì‹œì¥ ì‹œê°„ ë¶„ì„"""
    print("ğŸ“Š ì‹œì¥ ì‹œê°„ ë¶„ì„ (í•œêµ­ ì‹œê°„ ê¸°ì¤€)")
    print("="*60)
    
    market_hours = {
        "í•œêµ­ ì‹œì¥": {
            "ì •ê·œì¥": "09:00 - 15:30",
            "ì‹œê°„ì™¸": "15:30 - 09:00 (ë‹¤ìŒë‚ )",
            "í”„ë¦¬ë§ˆì¼“": "08:30 - 09:00 (ê¶Œì¥ ì‹œê°„)",
            "ì• í”„í„°ë§ˆì¼“": "15:30 - 17:00"
        },
        "ë¯¸êµ­ ì‹œì¥ (ì„œë¨¸íƒ€ì„)": {
            "í”„ë¦¬ë§ˆì¼“": "17:00 - 22:30 (í•œêµ­ì‹œê°„)",
            "ì •ê·œì¥": "22:30 - 05:00 (í•œêµ­ì‹œê°„)",
            "ì• í”„í„°ë§ˆì¼“": "05:00 - 09:00 (í•œêµ­ì‹œê°„)"
        },
        "ë¯¸êµ­ ì‹œì¥ (í‘œì¤€ì‹œ)": {
            "í”„ë¦¬ë§ˆì¼“": "18:00 - 23:30 (í•œêµ­ì‹œê°„)", 
            "ì •ê·œì¥": "23:30 - 06:00 (í•œêµ­ì‹œê°„)",
            "ì• í”„í„°ë§ˆì¼“": "06:00 - 10:00 (í•œêµ­ì‹œê°„)"
        }
    }
    
    for region, hours in market_hours.items():
        print(f"\nğŸ”¸ {region}:")
        for session, time_range in hours.items():
            print(f"   â€¢ {session}: {time_range}")
    
    return market_hours

def find_optimal_ml_times():
    """ìµœì  ML í•™ìŠµ ì‹œê°„ ì°¾ê¸°"""
    print("\n\nğŸ¯ ìµœì  ML í•™ìŠµ ì‹œê°„ ë¶„ì„")
    print("="*60)
    
    # ì‹œì¥ í™œë™ì´ ì—†ëŠ” ì‹œê°„ëŒ€ ì°¾ê¸°
    optimal_times = {
        "ì¼ì¼ ML í•™ìŠµ": {
            "ìµœì  ì‹œê°„": "06:30",
            "ì´ìœ ": [
                "ë¯¸êµ­ ì• í”„í„°ë§ˆì¼“ ì¢…ë£Œ í›„ (06:00)",
                "í•œêµ­ í”„ë¦¬ë§ˆì¼“ ì‹œì‘ ì „ (08:30)",
                "ì„œë²„ ë¶€í•˜ê°€ ë‚®ì€ ìƒˆë²½ ì‹œê°„",
                "ì „ì¼ ë°ì´í„° ì™„ì „ ìˆ˜ì§‘ ì™„ë£Œ í›„"
            ],
            "ì†Œìš” ì‹œê°„": "15-20ë¶„",
            "ë°ì´í„°": "ì „ì¼ + ìµœê·¼ 30ì¼"
        },
        "ì£¼ê°„ ê³ ë„í™” í•™ìŠµ": {
            "ìµœì  ì‹œê°„": "ì¼ìš”ì¼ 02:00",
            "ì´ìœ ": [
                "ì£¼ë§ë¡œ ì‹œì¥ í™œë™ ì—†ìŒ",
                "í† ìš”ì¼ â†’ ì¼ìš”ì¼ë¡œ ë³€ê²½ (ë” ì—¬ìœ )",
                "í•œ ì£¼ê°„ ë°ì´í„° ì™„ì „ ì •ë¦¬ í›„",
                "ì›”ìš”ì¼ ì¥ ì‹œì‘ ì „ ì¶©ë¶„í•œ ì‹œê°„"
            ],
            "ì†Œìš” ì‹œê°„": "2-3ì‹œê°„",
            "ë°ì´í„°": "ìµœê·¼ 1ë…„ + í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™”"
        }
    }
    
    for training_type, details in optimal_times.items():
        print(f"\nğŸ”¸ {training_type}:")
        print(f"   â° ìµœì  ì‹œê°„: {details['ìµœì  ì‹œê°„']}")
        print(f"   â±ï¸ ì†Œìš” ì‹œê°„: {details['ì†Œìš” ì‹œê°„']}")
        print(f"   ğŸ“Š ë°ì´í„°: {details['ë°ì´í„°']}")
        print("   ğŸ¯ ì„ ì • ì´ìœ :")
        for reason in details['ì´ìœ ']:
            print(f"      â€¢ {reason}")
    
    return optimal_times

def create_time_conflict_matrix():
    """ì‹œê°„ ì¶©ëŒ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±"""
    print("\n\nâš ï¸ ì‹œê°„ ì¶©ëŒ ë¶„ì„")
    print("="*60)
    
    # 24ì‹œê°„ì„ 1ì‹œê°„ ë‹¨ìœ„ë¡œ ë¶„ì„
    hours = list(range(24))
    conflicts = {}
    
    for hour in hours:
        conflict_sources = []
        
        # í•œêµ­ ì‹œì¥ ì‹œê°„
        if 9 <= hour <= 15:
            conflict_sources.append("í•œêµ­ ì •ê·œì¥")
        elif 8 <= hour < 9:
            conflict_sources.append("í•œêµ­ í”„ë¦¬ë§ˆì¼“")
        elif 15 < hour <= 17:
            conflict_sources.append("í•œêµ­ ì• í”„í„°ë§ˆì¼“")
        
        # ë¯¸êµ­ ì‹œì¥ ì‹œê°„ (ì„œë¨¸íƒ€ì„)
        if 17 <= hour <= 22:
            conflict_sources.append("ë¯¸êµ­ í”„ë¦¬ë§ˆì¼“(ì„œë¨¸íƒ€ì„)")
        elif (22 <= hour <= 23) or (0 <= hour <= 5):
            conflict_sources.append("ë¯¸êµ­ ì •ê·œì¥(ì„œë¨¸íƒ€ì„)")
        elif 5 < hour <= 9:
            conflict_sources.append("ë¯¸êµ­ ì• í”„í„°ë§ˆì¼“(ì„œë¨¸íƒ€ì„)")
        
        conflicts[hour] = conflict_sources
    
    # ì¶©ëŒ ì—†ëŠ” ì‹œê°„ ì°¾ê¸°
    safe_hours = [hour for hour, sources in conflicts.items() if not sources]
    busy_hours = [hour for hour, sources in conflicts.items() if sources]
    
    print(f"ğŸŸ¢ ì•ˆì „í•œ ì‹œê°„ëŒ€: {[f'{h:02d}:00' for h in safe_hours]}")
    print(f"ğŸ”´ ìœ„í—˜í•œ ì‹œê°„ëŒ€: {[f'{h:02d}:00' for h in busy_hours]}")
    
    # íŠ¹íˆ ì•ˆì „í•œ ì‹œê°„ (ì•„ë¬´ ì‹œì¥ë„ ì—´ë¦¬ì§€ ì•ŠìŒ)
    print("\nğŸ¯ ìµœì  ì‹œê°„ëŒ€ (ì‹œì¥ í™œë™ ì „í˜€ ì—†ìŒ):")
    for hour in safe_hours:
        print(f"   â€¢ {hour:02d}:00 - {hour:02d}:59")
    
    return safe_hours, conflicts

def main():
    """ë©”ì¸ ë¶„ì„"""
    print("â° ML í•™ìŠµ ìµœì  ì‹œê°„ ë¶„ì„")
    print("="*80)
    
    # 1. ì‹œì¥ ì‹œê°„ ë¶„ì„
    market_hours = analyze_market_hours()
    
    # 2. ìµœì  ì‹œê°„ ê²°ì •
    optimal_times = find_optimal_ml_times()
    
    # 3. ì¶©ëŒ ë¶„ì„
    safe_hours, conflicts = create_time_conflict_matrix()
    
    print("\n\nğŸš€ ìµœì¢… ê¶Œì¥ì‚¬í•­")
    print("="*60)
    print("âœ… ì¼ì¼ ML í•™ìŠµ: ë§¤ì¼ 06:30")
    print("   â€¢ ì´ìœ : ë¯¸êµ­ ì¥ ì™„ì „ ì¢…ë£Œ í›„, í•œêµ­ ì¥ ì‹œì‘ 2ì‹œê°„ ì „")
    print("   â€¢ ì¥ì : ì‹œì¥ ì˜í–¥ ì—†ìŒ, ì „ì¼ ë°ì´í„° ì™„ì „ ë°˜ì˜")
    print("   â€¢ ì†Œìš”: 15-20ë¶„ (ë¶€ë‹´ ì—†ìŒ)")
    
    print("\nâœ… ì£¼ê°„ ê³ ë„í™” í•™ìŠµ: ë§¤ì£¼ ì¼ìš”ì¼ 02:00")
    print("   â€¢ ì´ìœ : ì™„ì „í•œ ì£¼ë§, ëª¨ë“  ì‹œì¥ ë‹«í˜")
    print("   â€¢ ì¥ì : ì¶©ë¶„í•œ ì‹œê°„, ì‹œìŠ¤í…œ ë…ì  ì‚¬ìš©")
    print("   â€¢ ì†Œìš”: 2-3ì‹œê°„ (ì£¼ë§ í™œìš©)")
    
    print("\nğŸ“ˆ ì˜ˆìƒ íš¨ê³¼:")
    print("   â€¢ í•™ìŠµ ë¹ˆë„: ì£¼ 1íšŒ â†’ ì¼ 7íšŒ (700% ì¦ê°€)")
    print("   â€¢ ê³ ë„í™”: ì›” 1íšŒ â†’ ì£¼ 1íšŒ (400% ì¦ê°€)")
    print("   â€¢ ì´ í•™ìŠµ: 64íšŒ/ë…„ â†’ 416íšŒ/ë…„ (650% ì¦ê°€)")
    print("   â€¢ ëŒ€ì‘ì„±: ì‹¤ì‹œê°„ ì‹œì¥ ë³€í™” ë°˜ì˜")

if __name__ == "__main__":
    main()